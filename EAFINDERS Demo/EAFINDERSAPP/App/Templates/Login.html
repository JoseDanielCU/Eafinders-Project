{% extends 'Template.html' %}

{% block title %}Login{% endblock %}

{% block extra_styles %}
<style>
    /* Estilos del modo oscuro */
    body.dark-mode .login-form-container {
        background-color: #2a2a2a; /* Fondo oscuro para la caja del formulario */
        color: #ffffff; /* Color del texto en modo oscuro */
        border-color: #444; /* Borde más oscuro */
    }

    body.dark-mode .login-form-container input {
        background-color: #3a3a3a; /* Fondo oscuro para los campos de entrada */
        color: #ffffff; /* Color del texto */
        border: 1px solid #555; /* Borde más oscuro */
    }

    body.dark-mode .login-form-container input::placeholder {
        color: #cccccc; /* Color de los placeholders en modo oscuro */
    }

    body.dark-mode .login-form-container button {
        background-color: #007bff; /* Color del botón */
        border: none; /* Sin borde */
        color: #fff; /* Texto del botón */
    }

    body.dark-mode .alert {
        background-color: #ff4d4d; /* Fondo rojo para alertas */
        color: #fff; /* Color del texto en alertas */
    }

    /* Transición suave para cambio de modo */
    .login-form-container, .alert, input, button {
        transition: background-color 0.3s, color 0.3s; /* Transiciones para el cambio de modo */
    }
</style>
{% endblock %}

{% block content %}
   <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-4">
                <h2 class="text-center mt-5">Iniciar Sesión</h2>
                <form method="POST" class="p-4 border rounded shadow-sm login-form-container">
                    {% csrf_token %}
                    {{ form.as_p }}
                    <button type="submit" class="btn btn-primary w-100 mt-3">Iniciar Sesión</button>
                </form>

                {% if messages %}
                    <div class="mt-3">
                        {% for message in messages %}
                            <div class="alert alert-danger">{{ message }}</div>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const isDarkMode = localStorage.getItem('dark-mode') === 'true';
        const body = document.body;

        // Aplicar modo oscuro si está habilitado
        if (isDarkMode) {
            body.classList.add('dark-mode');
        }

        // Cambiar entre modo claro y oscuro al hacer clic en el botón
        document.getElementById('dark-mode-toggle').addEventListener('click', function() {
            body.classList.toggle('dark-mode');
            const isDarkModeEnabled = body.classList.contains('dark-mode');

            // Guardar preferencia en el almacenamiento local
            localStorage.setItem('dark-mode', isDarkModeEnabled);
        });
    });
</script>
{% endblock %}
